# Web Application Penetration Testing - Docker Toolkit

# CHECKLIST

# Deploy Tools via Categories
# No SSH Enabled
# No Server Sevices Deployed
# No Authentication Service Deployed
# No Port Enabled
# Only CLI Enabled

# CATEGORIES

# PORT SCAN
## NMAP - https://github.com/nmap/nmap.git
## MASSCAN - https://github.com/robertdavidgraham/masscan.git

# SUBDOMAINS
## AMASS- https://github.com/OWASP/Amass.git
## GOBUSTER - https://github.com/OJ/gobuster.git
## KNOCK - https://github.com/guelfoweb/knock.git
## MASSDNS - https://github.com/blechschmidt/massdns.git
## ALTDNS - https://github.com/infosec-au/altdns.git
## SPYSE - https://github.com/zeropwn/spyse.py.git
## SUBLIST3R - https://github.com/aboul3la/Sublist3r.git
## FINDOMAINS - https://github.com/Findomain/Findomain.git
## SUBFINDER - https://github.com/projectdiscovery/subfinder.git
## SPIDERFOOT - https://github.com/smicallef/spiderfoot.git

# SUBDOMAIN TAKEOVER
## SUBJACK - https://github.com/haccer/subjack.git

# DNSLOOKUPS
## HAKREVDNS - https://github.com/hakluke/hakrevdns.git

# SCREENSHOT
## GOWITNESS - https://github.com/sensepost/gowitness.git
## AQUATONE - https://github.com/michenriksen/aquatone.git

# CRAWLER
## HAKRAWLER - https://github.com/hakluke/hakrawler.git
## PHOTON - https://github.com/s0md3v/Photon.git
## WAYBACKURLS - https://github.com/tomnomnom/waybackurls.git
## GOSPIDER - https://github.com/jaeles-project/gospider.git

# SEARCH DIRECTORIES
## DIRSEARCH - https://github.com/maurosoria/dirsearch.git

# FUZZER
## WFUZZ - https://github.com/xmendez/wfuzz.git
## FFUF - https://github.com/ffuf/ffuf.git

# WEB SCANNING
## WHATWEB - https://github.com/urbanadventurer/WhatWeb.git 
## WAFW00F - https://github.com/EnableSecurity/wafw00f.git
## NIKTO - https://github.com/sullo/nikto.git
## ARJUN - https://github.com/s0md3v/Arjun.git
## HTTPROBE - https://github.com/tomnomnom/httprobe.git
## STRIKER - https://github.com/s0md3v/Striker.git

# CMS
## WPSCAN - https://github.com/wpscanteam/wpscan.git
## JOOMSCAN - https://github.com/OWASP/joomscan.git
## DROOPESCAN - https://github.com/droope/droopescan.git
## CMSEEK - https://github.com/Tuhinshubhra/CMSeeK.git

# SEARCH JS
## LINKFINDER - https://github.com/GerbenJavado/LinkFinder.git
## GETJS - https://github.com/003random/getJS.git

# WORDLISTS
## CEWL - https://github.com/digininja/CeWL.git
## WFUZZ - https://github.com/xmendez/wfuzz.git
## SECLIST - https://github.com/danielmiessler/SecLists.git
## FUZZDB - https://github.com/fuzzdb-project/fuzzdb.git
## DIRBUSTER - https://github.com/daviddias/node-dirbuster.git
## DIRB - https://github.com/v0re/dirb
## ROCKYOU - https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt
## CRUNCH

# GITREPOS
## GITLEAKS - https://github.com/zricethezav/gitleaks.git
## GITROB - https://github.com/michenriksen/gitrob.git
## GITGRABER - https://github.com/hisxo/gitGraber.git
## GITHUB-SEARCH - https://github.com/gwen001/github-search.git

# OWASP
## SQLMAP - https://github.com/sqlmapproject/sqlmap.git
## XSSTRIKE - https://github.com/s0md3v/XSStrike.git

# BRUTEFORCE
## CROWBAR - https://github.com/galkan/crowbar.git
## HYDRA - https://github.com/vanhauser-thc/thc-hydra.git
## PATATOR - https://github.com/lanjelot/patator.git
## MEDUSA

# CRACKING
## HASHID - https://github.com/psypanda/hashID.git
## JOHNTHERIPPER - https://github.com/openwall/john.git
## HASHCAT - https://github.com/hashcat/hashcat.git

# OS ENUMERATION
## HTBENUM - https://github.com/SolomonSklash/htbenum.git
## LINUX-SMART-ENUMERATION - https://github.com/diego-treitos/linux-smart-enumeration.git
## LINENUM - https://github.com/rebootuser/LinEnum.git
## ENUM4LINUX - https://github.com/CiscoCXSecurity/enum4linux.git
## LDAPDOMAINDUMP - https://github.com/dirkjanm/ldapdomaindump.git
## PEASS - PRIV ESCALATION - https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite.git
## WINDOWS EXPLOIT SUGGESTER - NEXT GENERATION - https://github.com/bitsadmin/wesng.git
## SMBMAP - https://github.com/ShawnDEvans/smbmap.git
## PSPY - UNPRIVILEGED LINUX PROCESS SNOOPING - https://github.com/DominicBreuker/pspy.git
## SMBCLIENT
## FTP

# EXPLOITS
## SEARCHSPLOIT - https://github.com/offensive-security/exploitdb.git
## METASPLOIT - https://github.com/rapid7/metasploit-framework.git
## MS17-010 - https://github.com/worawit/MS17-010.git
## AUTOBLUE-MS17-010 - https://github.com/3ndG4me/AutoBlue-MS17-010.git
## PRIVEXCHANGE - https://github.com/dirkjanm/PrivExchange.git

# WINDOWS
## EVIL-WINRM - https://github.com/Hackplayers/evil-winrm.git
## IMPACKET - https://github.com/SecureAuthCorp/impacket.git
## CRACKMAPEXEC - https://github.com/byt3bl33d3r/CrackMapExec.git
## NISHANG - https://github.com/samratashok/nishang.git
## JUICYPOTATO - https://github.com/ohpe/juicy-potato.git
## POWERSPLOIT - https://github.com/PowerShellMafia/PowerSploit.git
## PASS-THE-HASH - https://github.com/byt3bl33d3r/pth-toolkit.git
## MIMIKATZ - https://github.com/ParrotSec/mimikatz.git
## GPP-DECRYPT

# REVERSE SHELL
## NETCAT - https://github.com/diegocr/netcat.git
## RLWAP - https://github.com/hanslub42/rlwrap.git

# OTHER TOOLS 
## QSREPLACE (STRING MANIPULATION FOR PATHS & PARAMETERES) - https://github.com/tomnomnom/qsreplace.git
## APACHE
## NGINX
## SQUID

# OTHER LINKS
## SWORDFISH-SECURITY: PENTEST-IN-DOCKER: https://github.com/Swordfish-Security/Pentest-In-Docker
## OWASP-WTE: https://github.com/mtesauro/owasp-wte.git
## PENTEST-TOOLS: https://github.com/gwen001/pentest-tools
## DOCKER PENTESTING TOOLS: https://pentesttools.net/docker-for-pentest-image-with-tools-to-create-a-pentest-environment/
# ==============================================================================================================================================================


# BASE IMAGE
FROM kalilinux/kali-rolling:latest

# MAINTAINER
LABEL Maintainer="DzasterAbz"

# ENVIRONMENT VARIABLES
ENV HOME /root
ENV DEBIAN_FRONTEND=noninteractive

# OPEN PORTS
EXPOSE 22/tcp 80/tcp 443/tcp

# DEFAULT DIRECTORIES
RUN mkdir ${HOME}/Toolkit && \
    mkdir ${HOME}/Wordlists && \
    mkdir ${HOME}/Logfiles

# WORKING DIRECTORY
WORKDIR ${HOME}/Logfiles

# BASIC INSTALLATIONS
RUN echo "deb http://http.kali.org/kali kali-rolling main contrib non-free" >> /etc/apt/sources.list && \
    apt-get -y update --fix-missing && \
    apt-get -y full-upgrade && \    
    apt-get install -y --no-install-recommends \
    software-properties-common \
    build-essential \
    tmux \
    gcc \
    net-tools \
    iputils* \
    mlocate \
    git \
    nano \
    wget \
    curl \
    host \
    traceroute \
    telnet \
    iputils-ping \
    openvpn \
    # go \
    ssh \
    make \
    man-db \
    nasm \
    whois \
    python \
    tzdata \
    python3 \
    python3-pip \
    perl \
    dnsutils \
    zsh \
    snapd \
    # oracle-java8-installer \
    ruby \
    postgresql \
    cpanminus \
    python3-pycurl \
    libldns-dev \
    libcurl4-openssl-dev \
    libxml2 \
    libxml2-dev \
    libxslt1-dev \
    ruby-dev \
    libgmp-dev \
    zlib1g-dev \
    libpcap-dev \
    libwww-perl \
    nikto \
    awscli \
    nmap \
    sqlmap \
    dirb \
    zaproxy \
    uniscan \
    wpscan \
    gobuster \
    hashcat \
    sslscan \
    tcpdump \
    tshark \
    routersploit \
    websploit \
    metasploit-framework \
    hydra \
    dnsrecon \
    powerline \
    fonts-powerline \
    && rm -rf /var/lib/apt/lists/*

#DOCKER ISSUES
RUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections && \
    apt-get install -y -q && \
    apt-get install -y  apt

# METASPLOIT WITH DEPENDENCIES
RUN apt-get -y update && \
    apt-get -y full-upgrade && \
    apt-get -y install build-essential \
    libreadline-dev \
    libssl-dev \
    libpq5 \
    libpq-dev \
    libsqlite3-dev \
    libpcap-dev \
    git-core \
    autoconf \
    postgresql \
    curl \
    zlib1g-dev \
    libxml2-dev \
    libxslt1-dev \
    libyaml-dev \
    gawk \
    bison \
    libffi-dev \
    libgdbm-dev \
    libncurses5-dev \
    libtool \
    sqlite3 \
    libgmp-dev \
    gnupg2 \ 
    dirmngr

# CONFIGURING PYTHON TOOLS
RUN pip3 install setuptools && pip3 install dnspython

# DNSENUM
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/fwaeytens/dnsenum.git && \
    cd dnsenum/ && \
    chmod +x dnsenum.pl && \
    ln -s ${HOME}/Toolkit/dnsenum/dnsenum.pl /usr/bin/dnsenum && \
    cpanm String::Random && \
    cpanm Net::IP && \
    cpanm Net::DNS && \
    cpanm Net::Netmask && \
    cpanm XML::Writer

# SUBLIST3R
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/aboul3la/Sublist3r.git && \
    cd Sublist3r/ && \
    pip install -r requirements.txt && \
    ln -s ${HOME}/Toolkit/Sublist3r/sublist3r.py /usr/local/bin/sublist3r

# WFUZZ
RUN pip install wfuzz

# SECLISTS
RUN cd ${HOME}/Wordlists && \
    git clone --depth 1 https://github.com/danielmiessler/SecLists.git 

# KNOCK
#RUN cd ${HOME}/Toolkit && \
#    git clone https://github.com/guelfoweb/knock.git && \
#    cd knock && \
#    chmod +x setup.py && \
#    python setup.py install

# MASSDNS
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/blechschmidt/massdns.git && \
    cd massdns/ && \
    make && \
    ln -sf ${HOME}/Toolkit/massdns/bin/massdns /usr/local/bin/massdns

# WAF00F
RUN cd ${HOME}/Toolkit && \
    apt-get install -y python3-setuptools && apt-get install -y python-setuptools && \
    git clone https://github.com/EnableSecurity/wafw00f.git && \
    cd wafw00f && \
    chmod +x setup.py && \
    python setup.py install

# WPSCAN
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/wpscanteam/wpscan.git && \
    cd wpscan/ && \
    gem install bundler && bundle install --without test && \
    gem install wpscan

# COMMIX 
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/commixproject/commix.git && \
    cd commix && \
    chmod +x commix.py && \
    ln -sf ${HOME}/Toolkit/commix/commix.py /usr/local/bin/commix

# MASSCAN
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/robertdavidgraham/masscan.git && \
    cd masscan && \
    make && \
    ln -sf ${HOME}/Toolkit/masscan/bin/masscan /usr/local/bin/masscan    

# ALTDNS
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/infosec-au/altdns.git && \
    cd altdns && \
    pip install -r requirements.txt && \
    chmod +x setup.py && \
    python setup.py install

# TEH_S3_Bucketeers
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/tomdev/teh_s3_bucketeers.git && \
    cd teh_s3_bucketeers && \
    chmod +x bucketeer.sh && \
    ln -sf ${HOME}/Toolkit/teh_s3_bucketeers/bucketeer.sh /usr/local/bin/bucketeer

# RECON-NG
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/lanmaster53/recon-ng.git && \
    cd recon-ng && \
    pip3 install -r REQUIREMENTS && \
    chmod +x recon-ng && \
    ln -sf ${HOME}/Toolkit/recon-ng/recon-ng /usr/local/bin/recon-ng

# XSSTRIKE
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/s0md3v/XSStrike.git && \
    cd XSStrike && \
    pip3 install -r requirements.txt && \
    chmod +x xsstrike.py && \
    ln -sf ${HOME}/Toolkit/XSStrike/xsstrike.py /usr/local/bin/xsstrike

# THEHARVESTER
#RUN cd ${HOME}/Toolkit && \
#    git clone https://github.com/AlexisAhmed/theHarvester.git && \
#    cd theHarvester && \
#    python3 -m pip install -r requirements.txt && \
#    chmod +x theHarvester.py && \
#    ln -sf ${HOME}/Toolkit/theHarvester/theHarvester.py /usr/local/bin/theharvester

# CLOUDFLAIR
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/christophetd/CloudFlair.git && \
    cd CloudFlair && \
    pip install -r requirements.txt && \
    chmod +x cloudflair.py && \
    ln -sf ${HOME}/Toolkit/CloudFlair/cloudflair.py /usr/local/bin/cloudflair

# JOOMSCAN
#RUN cd ${HOME}/Toolkit && \
#    git clone https://github.com/rezasp/joomscan.git && \
#    cd joomscan/ && \
#    chmod +x joomscan.pl
#COPY joomscan.sh /opt
#RUN chmod +x /opt/joomscan.sh && \
#    ln -sf /opt/joomscan.sh /usr/local/bin/joomscan

# GO
RUN cd /opt && \
    wget https://dl.google.com/go/go1.13.3.linux-amd64.tar.gz && \
    tar -xvf go1.13.3.linux-amd64.tar.gz && \
    rm -rf /opt/go1.13.3.linux-amd64.tar.gz && \
    mv go /usr/local 
ENV GOROOT /usr/local/go
ENV GOPATH /root/go
ENV PATH ${GOPATH}/bin:${GOROOT}/bin:${PATH}

# GOBUSTER
#RUN cd ${HOME}/Toolkit && \
#    git clone https://github.com/OJ/gobuster.git && \
#    cd gobuster && \
#    go get && go install

# VIRTUAL-HOST-DISCOVERY
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/AlexisAhmed/virtual-host-discovery.git && \
    cd virtual-host-discovery && \
    chmod +x scan.rb && \
    ln -sf ${HOME}/Toolkit/virtual-host-discovery/scan.rb /usr/local/bin/virtual-host-discovery

# BUCKET-FINDER
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/AlexisAhmed/bucket_finder.git && \
    cd bucket_finder && \
    chmod +x bucket_finder.rb && \
    ln -sf ${HOME}/Toolkit/bucket_finder/bucket_finder.rb /usr/local/bin/bucket_finder

# DIRSEARCH
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/AlexisAhmed/dirsearch.git && \
    cd dirsearch && \
    chmod +x dirsearch.py && \
    ln -sf ${HOME}/Toolkit/dirsearch/dirsearch.py /usr/local/bin/dirsearch

# S3RECON
RUN pip3 install --upgrade setuptools && \
    pip3 install pyyaml pymongo requests s3recon

# SUBFINDER
RUN GO111MODULE=on go get -u -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder

# ZSH
RUN git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh &&\
    cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc &&\
    chsh -s /bin/zsh && \
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git "$HOME/.zsh-syntax-highlighting" --depth 1 && \
    echo "source $HOME/.zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" >> "$HOME/.zshrc"

# DOTDOTPWN
RUN cd ${HOME}/Toolkit && \
    cpanm Net::FTP && \
    cpanm Time::HiRes && \
    cpanm HTTP::Lite && \
    cpanm Switch && \
    cpanm Socket && \
    cpanm IO::Socket && \
    cpanm Getopt::Std && \
    cpanm TFTP && \
    git clone https://github.com/AlexisAhmed/dotdotpwn.git && \
    cd dotdotpwn && \
    chmod +x dotdotpwn.pl && \
    ln -sf ${HOME}/Toolkit/dotdotpwn/dotdotpwn.pl /usr/local/bin/dotdotpwn

# WHATWEB
RUN cd ${HOME}/Toolkit && \
    git clone https://github.com/urbanadventurer/WhatWeb.git && \
    cd WhatWeb && \
    chmod +x whatweb && \
    ln -sf ${HOME}/Toolkit/WhatWeb/whatweb /usr/local/bin/whatweb

# FIERCE
RUN python3 -m pip install fierce

# AMASS
#RUN export GO111MODULE=on && \
#    go get -v github.com/OWASP/Amass/v3/...

## ADDIIIONALS

# PentestLab Management
RUN git clone https://github.com/eystsen/pentestlab.git

# OWASP Web Testing Environment (WTE)
#RUN echo "deb http://appseclive.org/apt/14.04 trusty main" > /etc/apt/sources.list.d/owasp-wte.list && \
#    wget -q -O - http://appseclive.org/apt/owasp-wte.gpg.key | apt-key add - && \
#    apt-get update && apt-get -y install owasp-wte-*